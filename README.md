# Онлайн-платформа ЖНК "Артель"

## Описание

Это веб-приложение для управления жилищно-накопительным кооперативом "Артель". Платформа построена на Next.js и использует децентрализованные технологии:

*   **Блокчейн (Ethereum-совместимый):** Для выпуска и управления цифровыми финансовыми активами (ЦФА) "Метр Кубический" (токены МК-Н, МК-Ж, МК-Р).
*   **IPFS:** Для децентрализованного хранения документов (договоры, свидетельства).
*   **База данных (PostgreSQL/Cloudflare D1):** Для хранения данных пользователей, пайщиков, тарифов, взносов, сообщений и метаданных.

## Основные функции

*   Регистрация и аутентификация пользователей.
*   Личный кабинет с ролями: Гость, Пользователь, Пайщик, Администратор.
*   Управление тарифами вступления.
*   Внесение паевых взносов через платежные системы.
*   Токенизация взносов (ЦФА "Метр Кубический").
*   Дорожная карта накопления и очередь на жилье.
*   Онлайн-калькулятор точки ускорения.
*   Электронный документооборот с хранением в IPFS.
*   Внутренняя система обмена сообщениями.
*   Поддержка русского и английского языков.

## Технологический стек

*   **Фреймворк:** Next.js (React)
*   **Язык:** TypeScript
*   **Стилизация:** Tailwind CSS (предположительно, из шаблона)
*   **База данных:** PostgreSQL (рекомендовано ТЗ) / Cloudflare D1 (из шаблона)
*   **Блокчейн:** Solidity (для смарт-контрактов), Ethers.js/Web3.js (для взаимодействия)
*   **Хранилище файлов:** IPFS
*   **Развертывание:** Vercel, Docker, AWS и т.д.

## Установка и запуск (Локально)

1.  **Клонируйте репозиторий:**
    ```bash
    git clone <repository_url>
    cd znk_artel_platform
    ```

2.  **Установите зависимости:**
    ```bash
    npm install
    # или pnpm install / yarn install
    ```

3.  **Настройте переменные окружения:**
    Создайте файл `.env.local` и заполните его необходимыми значениями (см. `.env.example`, если он есть):
    *   `DATABASE_URL`: Строка подключения к базе данных.
    *   `JWT_SECRET`: Секретный ключ для JWT.
    *   `BLOCKCHAIN_RPC_URL`: URL RPC-узла блокчейна.
    *   `ADMIN_PRIVATE_KEY`: Приватный ключ кошелька администратора.
    *   `TOKEN_CONTRACT_ADDRESS`: Адрес смарт-контракта токенов.
    *   `IPFS_API_URL`: URL API вашего IPFS-узла.
    *   `PAYMENT_GATEWAY_KEY`: Ключ API платежного шлюза.
    *   `EMAIL_SERVICE_KEY`: Ключ API email-сервиса.
    *   ...

4.  **Примените миграции базы данных:**
    *   Для Cloudflare D1 (если используется):
        ```bash
        # Установите wrangler: npm install -g wrangler
        # Сброс (если нужно): rm -rf .wrangler/state/v3
        wrangler d1 execute DB --local --file=migrations/0001_initial.sql
        # Или для применения новых миграций:
        # wrangler d1 migrations apply DB --local
        ```
    *   Для PostgreSQL (если используется Prisma или другой ORM):
        ```bash
        npx prisma migrate dev
        ```

5.  **Запустите сервер разработки:**
    ```bash
    npm run dev
    # или pnpm dev / yarn dev
    ```

6.  Откройте [http://localhost:3000](http://localhost:3000) в вашем браузере.

## Структура проекта

*   `/src/app`: Основные страницы и API-маршруты Next.js.
*   `/src/components`: Переиспользуемые React-компоненты.
*   `/src/lib`: Вспомогательные функции, утилиты (auth, blockchain, rbac, models).
*   `/src/hooks`: Пользовательские React-хуки.
*   `/migrations`: Файлы миграций базы данных.
*   `/docs`: Документация проекта.
*   `/public`: Статические файлы.
*   `wrangler.toml`: Конфигурация Cloudflare Workers (если используется D1).
*   `tsconfig.json`: Конфигурация TypeScript.
*   `tailwind.config.js`: Конфигурация Tailwind CSS.
*   `package.json`: Зависимости и скрипты проекта.

## Документация

*   **Протоколы работы:** `znk_artel_platform_protocols.md`
*   **API Документация:** `docs/api.md`
*   **Руководство Администратора:** `docs/admin_guide.md`

## Контрибьюторы

*   Manus AI Agent

## Лицензия

(Указать лицензию, если применимо)

